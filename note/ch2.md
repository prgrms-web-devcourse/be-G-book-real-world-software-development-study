# chapter 2 입출금 내역 분석기

### 📌 `단일 책임 원칙(SRP)` `응집도` `결합도`

---

<br/>

---
`[예제 2-1]` KISS 원칙을 이용하여 한 개의 클래스로 구현 
- '특정 달에는 몇 건의 입출금 내역이 발생했는가?' 라는 문제에 대한 로직 변경 → `[예제 2-2]`

`[예제 2-2]` 에서 먄약 csv 대신 json 파일로 입력 형식이 바뀐다면?, 1월이 아닌 다른 달의 입출금 내역을 알고 싶다면?
- 코드에 많은 변화가 발생 → `SRP 원칙` 적용
---

### # 코드 유지보수성
    - 툭정 기능을 담당하는 코드를 쉽게 찾을 수 있어야 한다.
    - 코드가 어떤 일을 수행하는지 쉽게 이해할 수 있어야 한다.
    - 새로운 기능을 쉽게 추가하거나 기존 기능을 쉽게 제거할 수 있어야 한다.
    - 캡슐화가 잘 되어 있어햐 한다.

→ ❗️즉, 코드 사용자에게는 세부 구현 내용이 감춰져 있으므로 사용자가 쉽게 코드를 이해하고, 기능을 바꿀 수 있어야 한다.

<br/>

## # 단일 책임 원칙
> _SRP(Single Responsibility Principle) : 쉽게 관리하고 유지보수하는 코드를 구현하는 데 도움을 주는 포괄적인 소프트웨어 개발 지침_

- 한 클래스는 한 기능만 책임진다.
- 클래스를 변경하는 이유는 단 한 개여야 한다.

---
`[예제 2-2]` 에 어떻게 SRP 를 적용할 수 있을까? → 여러 책임을 모두 포함하므로 이를 개별로 분리
- `[예제 2-3]` BankStatementCSVParser : CSV 파싱 로직을 새로운 클래스로 분리
- `[예제 2-4]` BankTransaction : 입출금 내역을 표현하는 도메인 클래스
- `[예제 2-5]` `[예제 2-6]` 기존 메인 클래스 리팩토링 → BankTransaction 객체에서 정보를 추출하기 떄문에 내부 파싱 방법을 알 필요가 없어졌다.
---

### # 놀람 최소화 원칙
- 메서드가 수행하는 일을 바로 이해할 수 있도록 자체 문서화를 제공하는 메서드명을 사용한다.
- 코드의 다른 부분이 파라미터의 상태에 의존할 수 있으므로 파라미터의 상태를 바꾸지 않는다.

<br/>

## # 응집도
> _코드 유지보수성을 결정하는 중요한 개념으로 클래스나 메서드의 책임이 서로 어떻게 관련되어 있는지(얼마나 강하게 연결되어 있는지)를 측정한다._

---
`BankStatementAnalyzer` 클래스 (메인 클래스) 내의 계산 작업을 하는 로직 → 응집도가 떨어지는 사례 → 계산 연산을 별도의 클래스로 추출
- `[예제 2-7]` BankStatementProcessor : 클래스의 계산 연산 그룹화
- `[예제 2-8]` BankStatementAnalyzer : BankStatementProcessor 클래스를 이용해 입출금 내역 목록 처리
---

### # 그룹화하는 6 가지 방법
- 기능, 정보, 순차, 논리, 유틸리티, 시간
- 그룹화하는 메서드의 관련성이 약하면 응집도가 낮아진다.

<br/>

## # 결합도
> _한 기능이 다른 클래스에 얼마나 의존하고 있는지(어떤 클래스를 구현하는데 얼마나 다른 클래스를 참조했는가)를 가늠한다._

---
`BankStatementAnalyzer` 클래스 는 `BankStatementCSVParser` 클래스에 의존하는데,
- 만약 CSV 파일이 아닌 JSON, XML 형식을 지원하려면 어떻게 해야할까? → **인터페이스**를 이용해 여러 컴포넌트의 결합도를 제거 가능  
- `[예제 2-11]` BankStatementParser : 입출금 내역을 파싱하는 인터페이스 정의 
- `[예제 2-12]` BankStatementAnalyzer : 특정 구현에 종속되지 않도록 (파서와의 결합 제거)
---
→ 코드를 구현할 때는 **결합도를 낮춰야** 한다. (코드의 다양한 컴포넌트가 내부와 세부 구현에 의존하지 않아야 함을 의미)

<br/>

### 📌  총정리

- 갓 클래스와 코드 중복은 코드를 추론하고 유지보수하기 어렵게 만드는 요인이다.
- 단일 책임 원칙(SRP)은 관리하고 유지보수하기 쉬운 코드를 구현하는 데 도움을 준다
- 응집도은 클래스나 메서드의 책임이 얼마나 강하게 연관되어 있는지를 가리킨다.
- 결합도는 클래스가 다른 코드 부분에 얼마나 의존하고 있는지를 가리킨다.
- 높은 응집도와 낮은 결합도는 유지보수가 가능한 코드가 가져야 할 특징이다.

<br/>

#### # `KISS 원칙` `갓 클래스` `코드 중복` `DRY 원칙` `놀람 최소화 원칙` `테스트`